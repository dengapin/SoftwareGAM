<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <body>
        <ui:composition template="./../Template.xhtml">

            <ui:define name="content">
                <p:growl id="msgs" showDetail="true" />  
                <h:form>
                    <p:commandButton id="btnUsuarioCreate" update=":formCreate" oncomplete="usuarioDialogCreate.show()" icon="icon-new" title="Crear" value="Crear">  
                        <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                    </p:commandButton>  
                </h:form> 
                <h:form id="formDataTable">  
                    <p:dataTable id="cars" var="usuario" value="#{usuarioBean.usuarios}">  

                        <p:column headerText="Id" style="width:44%">  
                            <h:outputText value="#{usuario.idUsuario}" />  
                        </p:column>  

                        <p:column headerText="Nombres" style="width:44%">  
                            <h:outputText value="#{usuario.nombres}" />  
                        </p:column>  

                        <p:column headerText="Apellidos" style="width:14%">  
                            <h:outputText value="#{usuario.apellidos}" />  
                        </p:column> 

                        <p:column headerText="Codigo" style="width:14%">  
                            <h:outputText value="#{usuario.codigo}" />  
                        </p:column> 

                        <p:column headerText="Grupo" style="width:14%">  
                            <h:outputText value="#{usuario.grupo}" />  
                        </p:column> 

                        <p:column headerText="Telefono" style="width:14%">  
                            <h:outputText value="#{usuario.telefono}" />  
                        </p:column>

                        <p:column headerText="Cedula" style="width:14%">  
                            <h:outputText value="#{usuario.cedula}" />  
                        </p:column> 

                        <p:column headerText="Edad" style="width:14%">  
                            <h:outputText value="#{usuario.edad}" />  
                        </p:column> 

                        <p:column headerText="Correo" style="width:14%">  
                            <h:outputText value="#{usuario.correo}" />  
                        </p:column> 

                        <p:column headerText="Sexo" style="width:14%">  
                            <h:outputText value="#{usuario.sexo}" />  
                        </p:column> 

                        <p:column headerText="Tipo de Sangre" style="width:14%">  
                            <h:outputText value="#{usuario.tipoSangre}" />  
                        </p:column> 

                        <p:column headerText="Direccion" style="width:14%">  
                            <h:outputText value="#{usuario.direccion}" />  
                        </p:column> 

                        <p:column headerText="Profesion" style="width:14%">  
                            <h:outputText value="#{usuario.profesion}" />  
                        </p:column> 

                        <p:column headerText="Convivencia" style="width:14%">  
                            <h:outputText value="#{usuario.convivencia}" />  
                        </p:column> 

                        <p:column headerText="Patologia" style="width:14%">  
                            <h:outputText value="#{usuario.patologia}" />  
                        </p:column> 

                        <p:column headerText="Alergia" style="width:14%">  
                            <h:outputText value="#{usuario.alergia}" />  
                        </p:column> 

                        <p:column headerText="Instruccion" style="width:14%">  
                            <h:outputText value="#{usuario.instruccion}" />  
                        </p:column> 
                        
                        <p:column headerText="Licencia" style="width:14%">  
                            <h:outputText value="#{usuario.licencia}" />  
                        </p:column> 

                        <p:column headerText="Hijos" style="width:14%">  
                            <h:outputText value="#{usuario.hijos}" />  
                        </p:column> 

                        <p:column headerText="Observaciones" style="width:14%">  
                            <h:outputText value="#{usuario.observaciones}" />  
                        </p:column> 

                        <p:column style="width:4%">  
                            <p:commandButton id="btnUpdate" update=":formUpdate" oncomplete="usuarioDialogUpdate.show()" icon="icon-edit" title="Actualizar">  
                                <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                            </p:commandButton> 
                            <p:commandButton id="btnDelete" update=":formDelete" oncomplete="usuarioDialogDelete.show()" icon="icon-delete" title="Eliminar">  
                                <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                            </p:commandButton>  
                        </p:column>  

                    </p:dataTable>  
                </h:form>
                <h:form id="formCreate">
                    <p:dialog header="Crear Usuario" widgetVar="usuarioDialogCreate" resizable="false" id="dlgUsuarioCreate"  
                              showEffect="fade" hideEffect="explode"  modal="true">  

                        <h:panelGrid id="display" columns="2" cellpadding="4" style="margin:0 auto;"> 
                            
                            <h:outputText value="Id: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.idUsuario}" />  
                            
                            <h:outputText value="Nombres: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.nombres}" />  

                            <h:outputText value="Apellidos: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.apellidos}" />  

                            <h:outputText value="Codigo: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.codigo}" />  
                            
                            <h:outputText value="Grupo: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.grupo}" /> 
                            
                            <h:outputText value="Cedula: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.cedula}" />  
                            <h:outputText value="Telefono: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.telefono}" />  


                            <h:outputText value="Edad: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.edad}" />  

                            <h:outputText value="Email: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.correo}" size="40"/>  
                            
                            <h:outputText value="Sexo: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.sexo}" />  

                            <h:outputText value="Tipo de sangre: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.tipoSangre}" />  

                            <h:outputText value="Direccion: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.direccion}" />  

                            <h:outputText value="Profesion: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.profesion}" />  
                            
                            <h:outputText value="Convivencia: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.convivencia}" />  

                            <h:outputText value="Patologia: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.patologia}" />  

                            <h:outputText value="Alergia: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.alergia}" />  

                            <h:outputText value="Instruccion: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.instruccion}" />  
                            
                            <h:outputText value="Licencia: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.licencia}" />  

                            <h:outputText value="Hijos: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.hijos}" />  
                                                      
                            <h:outputText value="Observaciones: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.observaciones}" />  
                            
                            <h:outputText value="Codigo de Representante: " />  
                            <h:inputText value="#{usuarioBean.seleccionarusuario.representante.idRepresentante}" />  
                            
                            <f:facet name="footer"> 
                                <p:separator/>
                                <p:commandButton id="btnCreateAceptar" update=":formDataTable, :msgs" oncomplete="usuarioDialogCreate.hide()" actionListener="#{usuarioBean.btnCreateUsuario(actionEvent)}" icon="ui-icon-search" title="Guardar" value="Guardar">  
                                    <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                                </p:commandButton> 
                                <p:commandButton id="btnCreateCancelar" oncomplete="usuarioDialogCreate.hide()" icon="ui-icon-search" title="Cancelar" value="Cancelar">  
                                    <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                                </p:commandButton> 
                            </f:facet>

                        </h:panelGrid> 

                    </p:dialog>  

                </h:form> 
                <h:form id="formUpdate">
                    <p:dialog header="Modificar Usuario" widgetVar="usuarioDialogUpdate" resizable="false" id="dlgUsuarioUpdate"  
                              showEffect="fade" hideEffect="explode" modal="true">  

                        <h:panelGrid id="display" columns="2" cellpadding="4" style="margin:0 auto;">  
                            
                            <h:outputText value="Nombres" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.nombres}" />  

                            <h:outputText value="Apellidos" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.apellidos}" />  
                            
                            <h:outputText value="Codigo" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.codigo}" />  

                            <h:outputText value="Grupo" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.grupo}" />  
                                                       
                            <h:outputText value="Telefono" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.telefono}" />  

                            <h:outputText value="Cedula" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.cedula}" />  

                            <h:outputText value="Edad" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.edad}" />  
                            
                            <h:outputText value="Email" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.correo}" size="40"/>  
                            
                            <h:outputText value="Sexo" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.sexo}" />  

                            <h:outputText value="Tipo de Sangre" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.tipoSangre}" />  

                            <h:outputText value="Direccion" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.direccion}" />  
                            
                            <h:outputText value="Convivencia" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.convivencia}" />  

                            <h:outputText value="Patologia" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.patologia}" />  

                            <h:outputText value="Alergia" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.alergia}" />  
                            
                            <h:outputText value="Instruccion" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.instruccion}" />  

                            <h:outputText value="Licencia" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.licencia}" />  

                            <h:outputText value="Hijos" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.hijos}" /> 
                            
                            <h:outputText value="Observacion" />  
                            <p:inputText value="#{usuarioBean.seleccionarusuario.observaciones}" /> 
                            
                            <f:facet name="footer"> 
                                <p:commandButton id="btnUpdateAceptar" update=":formDataTable, :msgs" oncomplete="usuarioDialogUpdate.hide()" actionListener="#{usuarioBean.btnUpdateUsuario(actionEvent)}" icon="ui-icon-search" title="Guardar" value="Guardar">  
                                    <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                                </p:commandButton> 
                                <p:commandButton id="btnUpdateCancelar" oncomplete="usuarioDialogUpdate.hide()" icon="ui-icon-search" title="Cancelar" value="Cancelar">  
                                    <f:setPropertyActionListener value="#{usuario}" target="#{usuarioBean.seleccionarusuario}" />  
                                </p:commandButton> 
                            </f:facet>
                        </h:panelGrid> 

                    </p:dialog>  

                </h:form> 
                <h:form id="formDelete">
                    <p:confirmDialog id="confirmDialog" message="Esta seguro de eliminar el registro?" showEffect="fade" hideEffect="explode"
                                     header="Eliminar Usuario" severity="alert" widgetVar="usuarioDialogDelete">  
                        <h:inputHidden value="#{usuarioBean.seleccionarusuario.idUsuario}" />
                        <p:commandButton id="confirm" value="Aceptar" update=":formDataTable, :msgs" oncomplete="usuarioDialogDelete.hide()"  
                                         actionListener="#{usuarioBean.btnDeleteUsuario(actionEvent)}" />  
                        <p:commandButton id="decline" value="Cancelar" onclick="usuarioDialogDelete.hide()" type="button" />   

                    </p:confirmDialog>
                </h:form> 
            </ui:define>
        </ui:composition>
    </body>
</html>
